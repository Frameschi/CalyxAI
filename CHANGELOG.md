# Changelog

## [1.7.2] - 2025-09-25
### üß† CARACTER√çSTICA MAYOR: Sistema H√≠brido de IA con Prompts Especializados
- **Sistema de 3 prompts inteligentes**: Implementaci√≥n completa de separaci√≥n de responsabilidades
  - **Prompt Conversacional**: Maneja interacciones sociales y consultas generales (sin herramientas)
  - **Prompt Nutricional**: Activa herramientas de base de datos para consultas sobre alimentos
  - **Prompt M√©dico**: Formatea c√°lculos autom√°ticos en console blocks estructurados
- **Detecci√≥n autom√°tica de consultas**: Sistema inteligente que identifica el tipo de consulta y aplica el prompt apropiado
- **Separaci√≥n perfecta de funcionalidades**: Conversaciones, nutrici√≥n y c√°lculos m√©dicos completamente independientes

### üêõ CORRECCI√ìN CR√çTICA: Bug de Par√°metros Reutilizados en C√°lculos M√©dicos
- **Problema identificado**: C√°lculos m√©dicos reutilizaban par√°metros de consultas anteriores
- **Causa ra√≠z**: Prompt `build_calculation_prompt` conten√≠a valores hardcodeados en ejemplos
- **Soluci√≥n implementada**: Remoci√≥n de valores hardcodeados y uso exclusivo de datos reales del JSON
- **Validaci√≥n completa**: Cada c√°lculo ahora usa √∫nicamente los par√°metros de la consulta actual

### üó£Ô∏è OPTIMIZACI√ìN: Limpieza del Prompt Conversacional
- **Eliminaci√≥n de referencias cruzadas**: Removida menci√≥n a TOOL_CALL del prompt conversacional
- **Separaci√≥n limpia**: Prompt conversacional enfocado √∫nicamente en personalidad y tono
- **Prevenci√≥n de confusiones**: IA no intenta usar herramientas en conversaciones normales

### üîß Mejoras t√©cnicas y estabilidad
- **Arquitectura modular**: Sistema de prompts completamente desacoplado y mantenible
- **Validaci√≥n de integridad**: Verificaci√≥n de que cada prompt maneja solo su responsabilidad
- **Optimizaci√≥n de rendimiento**: Reducci√≥n de llamadas innecesarias entre componentes

## [1.7.1] - 2025-09-20
### üöÄ CARACTER√çSTICA MAYOR: Migraci√≥n Completa a Qwen2.5-3B con Transformers
- **Migraci√≥n total de Ollama**: Eliminaci√≥n completa de DeepSeek-R1 y sistema Ollama
- **Qwen2.5-3B exclusivo**: Implementaci√≥n de Qwen/Qwen2.5-3B-Instruct con cuantizaci√≥n 4-bit
- **Transformers + Accelerate**: Sistema de inferencia optimizado con GPU para GTX 1050 Ti
- **Eliminaci√≥n de dependencias**: Removidos todos los paquetes y configuraciones de Ollama
- **Limpieza completa**: Eliminadas todas las referencias a modelos antiguos (DeepSeek-R1, Phi-3, etc.)

### üßÆ MEJORA CR√çTICA: Formateo de C√°lculos M√©dicos
- **Formato estructurado IMC**: Implementaci√≥n de formato profesional con secciones claras (DATOS DE ENTRADA, F√ìRMULA, SUSTITUCI√ìN, OPERACI√ìN, RESULTADO)
- **Prompt universal inteligente**: Sistema de formateo que funciona para todas las f√≥rmulas m√©dicas manteniendo consistencia
- **Eliminaci√≥n de duplicaciones**: Correcci√≥n de secciones duplicadas en la presentaci√≥n de c√°lculos
- **T√≠tulos correctos**: Ajuste de nomenclatura ("C√°lculo de IMC" en lugar de "C√°lculo del IMC")

### üó£Ô∏è OPTIMIZACI√ìN: Sistema de Conversaci√≥n Mejorado
- **Respuestas contextuales**: Correcci√≥n de IA que mencionaba c√°lculos anteriores en respuestas de agradecimiento
- **Historial inteligente**: Sistema que ignora solicitudes antiguas y responde √∫nicamente al √∫ltimo mensaje
- **Separaci√≥n de contextos**: Diferenciaci√≥n clara entre conversaciones normales y peticiones de c√°lculo
- **Experiencia natural**: Respuestas breves y apropiadas para interacciones sociales

### üîß Mejoras t√©cnicas y estabilidad
- **Extracci√≥n de par√°metros**: Correcci√≥n para usar solo el √∫ltimo mensaje del usuario en c√°lculos
- **Gesti√≥n de memoria GPU**: Optimizaci√≥n de 4GB VRAM para Qwen2.5-3B
- **Sistema de tokens din√°mico**: Asignaci√≥n inteligente de tokens seg√∫n complejidad
- **Code cleanup**: Eliminaci√≥n de c√≥digo legacy y referencias obsoletas

## [1.7.0] - 2025-09-19
### üß† CARACTER√çSTICA MAYOR: Sistema de Prompts Optimizado y Separado
- **Separaci√≥n clara de contextos**: Sistema de prompts completamente separado entre conversaciones normales y c√°lculos m√©dicos
- **Prompt universal**: Implementaci√≥n de instrucciones universales de formateo para todos los c√°lculos m√©dicos
- **Eliminaci√≥n de c√≥digo redundante**: Removida funci√≥n `generate_for_calculations` y prompts simplificados innecesarios
- **Optimizaci√≥n de tokens**: Sistema din√°mico de asignaci√≥n de tokens basado en complejidad de f√≥rmulas (800-1500 tokens)
- **Limpieza completa del c√≥digo**: Eliminados residuos de prompts antiguos y l√≥gica duplicada

### ‚ö° OPTIMIZACI√ìN: Arquitectura de IA Mejorada
- **Sistema de detecci√≥n inteligente**: 13 f√≥rmulas m√©dicas detectadas autom√°ticamente con patrones expandidos
- **Conversaciones naturales**: Respuestas breves y contextuales para interacciones normales
- **C√°lculos formateados**: Presentaci√≥n estructurada en console blocks para resultados m√©dicos
- **Separaci√≥n de responsabilidades**: Backend maneja c√°lculos, frontend presenta resultados
- **Actualizaci√≥n de versiones**: VERSION.txt, package.json, Settings.tsx y archivos de distribuci√≥n actualizados a 1.7.0

### üîß Mejoras t√©cnicas y estabilidad
- **Validaci√≥n sint√°ctica**: Verificaci√≥n completa de archivos Python despu√©s de cambios
- **Gesti√≥n de memoria**: Optimizaci√≥n de recursos para c√°lculos complejos
- **Error handling**: Mejor manejo de errores en detecci√≥n y procesamiento de f√≥rmulas
- **Code cleanup**: Eliminaci√≥n de funciones obsoletas y referencias antiguas

## [1.6.5] - 2025-09-17
### üßπ CARACTER√çSTICA MAYOR: Sistema Exclusivo DeepSeek-R1 Sin Fallbacks
- **Eliminaci√≥n total de fallbacks**: Removidos todos los m√©todos de respuesta hardcoded y servidor de respaldo
- **DeepSeek-R1 exclusivo**: Sistema configurado √∫nicamente para usar DeepSeek-R1 via Ollama
- **Parsing inteligente de thinking**: Separaci√≥n autom√°tica entre proceso de razonamiento y respuesta final
- **Timeout extendido**: Aumentado a 5 minutos para permitir razonamiento profundo de DeepSeek-R1
- **Limpieza completa**: Eliminados todos los m√©todos HuggingFace, Phi-3 y l√≥gica de fallback
- **Actualizaci√≥n de versiones**: VERSION.txt, package.json y Settings.tsx actualizados a 1.6.5

## [1.6.4] - 2025-09-10
### üì¶ Respaldo integral y sincronizaci√≥n total
- **Se sube TODO el proyecto**: backend, frontend, scripts, documentaci√≥n, changelogs y archivos de configuraci√≥n.
- **Garant√≠a de integridad**: respaldo completo para futuras versiones y distribuci√≥n.
- **Actualizaci√≥n de VERSION.txt a 1.6.4.**
- Preparado para desarrollo y despliegue profesional.

## [1.6.1] - 2025-09-09
### üß† CARACTER√çSTICA MAYOR: DeepSeek-R1 "Thinking" Dropdown
- **ChatGPT-style Thinking**: Implementado dropdown colapsible para mostrar el proceso de razonamiento de DeepSeek-R1
- **Separaci√≥n inteligente**: Separaci√≥n autom√°tica entre `<think>` y respuesta final
- **UI elegante**: Dropdown con √≠cono de cerebro üß† y animaci√≥n suave
- **Experiencia mejorada**: Los usuarios pueden ver el proceso de pensamiento detallado del modelo

### ‚ö° OPTIMIZACI√ìN CR√çTICA: GPU Performance Boost
- **GPU utilization**: Incremento dram√°tico de 1% ‚Üí 42% utilizaci√≥n GPU
- **Memory optimization**: VRAM usage optimizado de 612MB ‚Üí 3.7GB (93% GTX 1050 Ti)
- **Configuraci√≥n GPU**: Variables de entorno optimizadas para m√°ximo rendimiento
  - `OLLAMA_NUM_GPU_LAYERS=32`
  - `OLLAMA_GPU_FRACTION=0.8`
- **CPU/GPU Balance**: Distribuci√≥n optimizada 42%/58% CPU/GPU para hardware limitado

### üîß Fixes t√©cnicos y estabilidad
- **Ollama integration**: Conexi√≥n mejorada entre backend y Ollama
- **Model loading**: Precarga autom√°tica de DeepSeek-R1 para mejor responsividad
- **Error handling**: Manejo mejorado de timeouts y conexiones
- **Code cleanup**: Eliminaci√≥n de archivos temporales y de testing

## [1.6.0] - 2025-09-06
### ü§ñ NUEVO MODELO: DeepSeek-R1 - Razonamiento matem√°tico avanzado
- **Dual-model system**: Agregado DeepSeek-R1-0528-Qwen3-8B-GGUF junto a Phi-3-Mini
- **Modelo especializado**: DeepSeek-R1 optimizado para razonamiento matem√°tico y c√°lculos m√©dicos
- **Switching din√°mico**: Cambio fluido entre modelos seg√∫n necesidades del usuario
- **GGUF optimizado**: Implementaci√≥n eficiente con Ollama para mejor rendimiento

### üöÄ Optimizaci√≥n MAYOR de rendimiento
- **Polling fix**: Eliminado polling excesivo del backend (reducido de m√∫ltiples timers overlap)
- **Procesos optimizados**: Fix de 4 procesos Python duplicados ejecut√°ndose simult√°neamente
- **ModelStatusContext**: Sistema centralizado de gesti√≥n de estado con intervalos controlados
- **Memoria optimizada**: Reducci√≥n significativa del uso de recursos del sistema

### üé® Mejoras de interfaz y experiencia
- **Loading animado**: √çcono de loading rotando durante "Cambiando modelo..."
- **Logo integration**: Reemplazado emoji ADN con logo profesional en chat
- **UI m√°s limpia**: Eliminadas l√≠neas separadoras innecesarias
- **Informaci√≥n din√°mica**: Settings ahora muestra info del modelo actualmente activo
- **Mensajes contextuales**: Eliminados textos hardcoded, todo din√°mico seg√∫n modelo activo

### üßπ Limpieza masiva del proyecto
- **Archivos obsoletos**: Eliminados scripts de debug, tests antiguos y archivos duplicados
- **Estructura optimizada**: Proyecto reorganizado y limpio para mejor mantenimiento
- **C√≥digo legacy**: Removidos componentes y hooks no utilizados
- **Gitignore actualizado**: Mejor gesti√≥n de archivos temporales y builds

### üîß Mejoras t√©cnicas
- **Error handling**: Mejor manejo de errores durante cambio de modelos
- **Estado centralizado**: Gesti√≥n unificada del estado de modelos en toda la app
- **Performance monitoring**: Mejor tracking de procesos backend
- **Code quality**: Refactoring general para mejor legibilidad y mantenimiento

## [1.5.5] - 2025-08-29
### üß† Optimizaci√≥n MAYOR del motor de IA Phi-3
- **Formula detection mejorada**: Detecci√≥n m√°s precisa limitada a las √∫ltimas 3 l√≠neas (vs 10 anteriormente)
- **Filtrado de par√°metros**: Eliminaci√≥n de contaminaci√≥n entre c√°lculos sucesivos
- **Respuestas consistentes**: Fix de respuestas "¬°Hola!" incorrectas durante c√°lculos en progreso
- **Detecci√≥n de n√∫meros**: Correcci√≥n en el parsing de inputs num√©ricos (altura, peso, etc.)
- **Console blocks exclusivos**: Todos los resultados de c√°lculos van exclusivamente al console block
- **Flujo IMC optimizado**: Secuencia perfecta: solicitud ‚Üí par√°metros ‚Üí c√°lculo ‚Üí resultado

### üéØ Experiencia de usuario mejorada
- **C√°lculos m√°s fluidos**: Eliminadas respuestas inesperadas durante entrada de datos
- **Mensajes contextuales**: IA responde apropiadamente seg√∫n el contexto de la conversaci√≥n  
- **Resultados estructurados**: Todos los c√°lculos se muestran en formato organizado en console blocks
- **Coherencia conversacional**: Fix de loops de respuestas gen√©ricas durante f√≥rmulas activas

## [1.4.5] - 2025-08-27
### üöÄ Sistema completo de auto-inicio del backend en producci√≥n
- **Auto-inicio funcionando**: Backend se inicia autom√°ticamente al abrir la aplicaci√≥n instalada
- **Script batch optimizado**: Comando con rutas corregidas para espacios en nombres de carpetas
- **CMD visible para diagn√≥stico**: Ventana de terminal visible durante desarrollo para monitoreo
- **Gesti√≥n de procesos**: Control completo del ciclo de vida del backend desde Electron

### üìä Barra de progreso mejorada y optimizada  
- **Progreso lineal**: Cambio de "Paso 1 de 4" a progreso limpio de 0-100%
- **N√∫meros redondeados**: Eliminados decimales innecesarios (14% en lugar de 13.9566666%)
- **Timing inteligente**: Espera 30 segundos antes de mostrar errores reales
- **Estados progresivos**: "Iniciando backend..." ‚Üí "Cargando Python..." ‚Üí "Preparando modelo..."

### ‚ö° Optimizaci√≥n del polling y logging
- **Polling adaptativo**: Intervalos din√°micos seg√∫n estado (60s cuando ready, 15s en error)
- **Logging reducido**: 95% menos logs de /ping en CMD (solo cada 30 segundos)
- **Mejor rendimiento**: Menor consumo de CPU y red durante operaci√≥n normal

### üîß Sincronizaci√≥n de versiones
- **Versiones consistentes**: VERSION.txt, package.json y Settings.tsx sincronizados en 1.4.5
- **Instalador limpio**: Solo una versi√≥n final sin archivos de desarrollo
- **Correcci√≥n de rutas**: Manejo apropiado de espacios en rutas de instalaci√≥n Windows

## [1.4.4] - 2025-08-13
### üêõ Correcci√≥n cr√≠tica del ciclo infinito en composici√≥n corporal
- **Fix ciclo infinito**: Resuelto bug donde sistema preguntaba repetidamente los mismos par√°metros
- **Mejora en recolecci√≥n progresiva**: Ahora analiza TODA la conversaci√≥n en lugar de solo las √∫ltimas 15 l√≠neas
- **Debug logging**: Sistema completo de logs para monitoreo en tiempo real de detecci√≥n de f√≥rmulas
- **Validaci√≥n robusta**: Prevenci√≥n de p√©rdida de par√°metros en conversaciones largas
- **Optimizaci√≥n de memoria**: Mantiene contexto completo sin degradaci√≥n de rendimiento

### üéØ Mejoras en detecci√≥n de par√°metros m√©dicos
- **Extracci√≥n mejorada**: Algoritmos m√°s precisos para peso, altura, edad, sexo y pliegues cut√°neos
- **Persistencia de datos**: Los par√°metros ya ingresados no se pierden durante la conversaci√≥n
- **Validaci√≥n inteligente**: Rangos de valores apropiados para cada medida antropom√©trica
- **Compatibilidad de unidades**: Soporte autom√°tico para kg/cm/mm en diferentes formatos

### üîß Optimizaciones t√©cnicas del backend
- **An√°lisis contextual completo**: Procesamiento de toda la conversaci√≥n para recolecci√≥n progresiva
- **Prevenci√≥n de contaminaci√≥n**: Separaci√≥n clara entre nuevas solicitudes y recolecci√≥n de datos
- **Logging estructurado**: Trazabilidad completa del flujo de detecci√≥n y c√°lculo de f√≥rmulas

## [1.4.3] - 2025-08-12
### üß† Sistema inteligente de detecci√≥n y descarga del modelo IA
- **Detecci√≥n autom√°tica del modelo**: Estado en tiempo real (not_downloaded, loading, ready, error)
- **UX de descarga profesional**: Splash screen elegante con progreso visual
- **Estimaci√≥n de tiempo**: C√°lculo din√°mico del tiempo restante de descarga
- **Velocidad en tiempo real**: Monitoreo de velocidad de descarga (MB/s)
- **Cancelaci√≥n de descarga**: Posibilidad de cancelar y reintentar la descarga
- **Progreso visual**: Barra de progreso animada con efectos shimmer

### üé® Identidad visual personalizada
- **Loading personalizado**: Integraci√≥n del logo de carga de Calyx AI
- **Componente reutilizable**: LoadingSpinner con m√∫ltiples tama√±os (sm, md, lg, xl)
- **Consistencia de marca**: Reemplazo de iconos gen√©ricos por dise√±o propio
- **Animaciones suaves**: Transiciones profesionales con Framer Motion

### üîß Nuevas funcionalidades t√©cnicas
- **Hook useModelStatus**: Verificaci√≥n autom√°tica del estado del modelo cada 10s
- **Hook useModelDownload**: Gesti√≥n completa del proceso de descarga
- **Endpoints del backend**: `/model/status`, `/model/download`, `/model/download/progress`
- **Detecci√≥n de cach√©**: Verificaci√≥n inteligente de modelos ya descargados
- **Informaci√≥n t√©cnica**: Tama√±o del modelo, dispositivo (GPU/CPU), velocidad

### üì± Integraci√≥n en la interfaz
- **Indicador en chat**: Estado del modelo en tiempo real en la p√°gina principal
- **Panel en configuraciones**: Informaci√≥n detallada con bot√≥n de descarga
- **Botones contextuales**: "Descargar modelo", "Reintentar", "Cancelar"
- **Mensajes educativos**: Informaci√≥n sobre privacidad y funcionamiento local

## [1.4.2] - 2025-08-11
### üé® Interfaz estilo ChatGPT con barra lateral y configuraciones
- **Barra lateral profesional**: Dise√±o similar a ChatGPT con navegaci√≥n fluida
- **Sistema de configuraciones**: P√°gina dedicada con secciones organizadas
- **Logo integrado**: Logo peque√±o en la barra lateral junto al nombre "Calyx AI"
- **Navegaci√≥n mejorada**: Bot√≥n hamburguesa para abrir/cerrar men√∫ lateral
- **Informaci√≥n detallada del modelo**: "Phi-3-mini-4k-instruct (Local)" en lugar de solo "Local"

### üöÄ Nuevas funcionalidades
- **"Nuevo chat"**: Opci√≥n para limpiar conversaci√≥n actual
- **"Configuraciones"**: Acceso centralizado a todas las opciones
- **Switch de tema integrado**: Toggle profesional dentro de configuraciones
- **Informaci√≥n del sistema**: Versi√≥n, modelo de IA y desarrolladores
- **Dise√±o responsive**: Adaptable a m√≥viles y desktop

### üîß Mejoras t√©cnicas
- **Context API**: Sistema de navegaci√≥n entre vistas (chat/settings)
- **Componentes modulares**: Sidebar, MenuButton, SettingsPage separados
- **ThemeToggle mejorado**: Variantes floating e inline
- **Gesti√≥n de estado**: Control de apertura/cierre de sidebar
- **Overlays responsivos**: Comportamiento diferente en m√≥vil vs desktop

### üéØ Experiencia de usuario
- **Navegaci√≥n intuitiva**: Patrones familiares de aplicaciones modernas
- **Transiciones suaves**: Animaciones en todas las interacciones
- **Accesibilidad mejorada**: T√≠tulos descriptivos y botones claramente identificados
- **Identidad visual**: Logo consistente en toda la aplicaci√≥n

## [1.4.1] - 2025-08-10
### ‚ö° Mejoras de velocidad y autoscroll
- **Velocidad de escritura mejorada**: Aumentada 100% la velocidad de animaci√≥n en consola (50ms ‚Üí 25ms)
- **Parpadeo de cursor optimizado**: Velocidad de parpadeo aumentada 100% (500ms ‚Üí 250ms)
- **Autoscroll inteligente**: 
  - Scroll autom√°tico cuando se agregan nuevos mensajes al chat
  - Scroll en tiempo real durante la animaci√≥n de escritura de la consola
  - Comportamiento suave y natural para mejor experiencia de usuario
- **Experiencia de chat fluida**: Ya no es necesario hacer scroll manual para ver mensajes nuevos

### üîß Mejoras t√©cnicas
- **Chat.tsx**: Implementado `useRef` y `useEffect` para autoscroll autom√°tico
- **ConsoleBlock.tsx**: Agregado scroll en tiempo real durante animaci√≥n de `TerminalTypewriter`
- **Scroll suave**: Utilizando `scrollIntoView({ behavior: "smooth" })` para transiciones fluidas

## [1.4.0] - 2025-08-03
### üéØ Correcciones cr√≠ticas de separaci√≥n de f√≥rmulas m√©dicas
- **SOLUCIONADO: Problema de reutilizaci√≥n de par√°metros entre f√≥rmulas**: Ahora el sistema distingue correctamente entre nuevas solicitudes de f√≥rmulas y recolecci√≥n progresiva de par√°metros
- **SOLUCIONADO: Error "user: 65" al responder preguntas**: El frontend ahora mantiene contexto extendido (20 mensajes) para f√≥rmulas m√©dicas en lugar de 6 mensajes
- **Separaci√≥n inteligente de contexto**: 
  - Nueva solicitud de f√≥rmula (ej: "composici√≥n corporal") ‚Üí Limpia par√°metros anteriores
  - Respuesta simple (ej: "65", "M", "25") ‚Üí Contin√∫a recolecci√≥n progresiva
- **Detecci√≥n mejorada de f√≥rmulas en progreso**: Reconoce preguntas espec√≠ficas como "pliegue cut√°neo", "circunferencia del brazo" para mantener contexto de composici√≥n corporal

### üîß Mejoras t√©cnicas
- **L√≥gica de detecci√≥n de nueva solicitud**: Diferencia entre palabras clave de f√≥rmulas y respuestas num√©ricas/de texto
- **Contexto adaptativo en frontend**: Autom√°ticamente extiende el contexto cuando detecta conversaciones de f√≥rmulas m√©dicas
- **Logging mejorado**: Mejor trazabilidad del proceso de detecci√≥n de f√≥rmulas y extracci√≥n de par√°metros
- **Tests automatizados**: Nuevos tests para verificar separaci√≥n de f√≥rmulas y recolecci√≥n progresiva

### üè• Experiencia de usuario
- **Flujo natural entre f√≥rmulas**: Ahora puedes calcular IMC y luego solicitar composici√≥n corporal sin interferencias
- **Recolecci√≥n progresiva confiable**: Las respuestas a preguntas de par√°metros se acumulan correctamente
- **Eliminaci√≥n de preguntas repetitivas**: No volver√° a preguntar por peso/altura cuando cambies de IMC a composici√≥n corporal

### ‚ö° Rendimiento
- **Contexto optimizado**: Solo usa contexto extendido cuando es necesario (f√≥rmulas m√©dicas)
- **Detecci√≥n m√°s r√°pida**: Algoritmo mejorado para identificar tipo de mensaje (nueva f√≥rmula vs respuesta)

## [1.3.4] - 2025-08-02
### Nuevas caracter√≠sticas principales
- **Sistema de c√°lculo autom√°tico de f√≥rmulas**: Implementaci√≥n completa del sistema de IMC y otras f√≥rmulas nutricionales
- **Consola t√©cnica animada**: Nuevo componente `ConsoleBlock` que muestra los c√°lculos paso a paso con animaci√≥n terminal profesional
- **Animaci√≥n terminal mejorada**: Cursor √∫nico parpadeante (‚ñà) con efecto typewriter de 50ms por car√°cter
- **Conversi√≥n autom√°tica de unidades**: Sistema robusto que convierte autom√°ticamente:
  - Altura: 175cm ‚Üí 1.75m, cent√≠metros ‚Üí metros
  - Peso: 80000g ‚Üí 80kg, gramos ‚Üí kilogramos
- **Detecci√≥n inteligente de par√°metros**: Regex avanzados que detectan m√∫ltiples formatos:
  - "175cm", "1.75m", "peso: 80kg", "80 kg peso"
  - Manejo de comas como separador decimal
  - Tolerancia a espacios y variaciones de escritura

### Mejoras t√©cnicas
- **TerminalTypewriter component**: Animaci√≥n de terminal personalizada sin dependencias externas
- **Regex patterns mejorados**: Patrones m√°s robustos para detecci√≥n de unidades y valores
- **Validaci√≥n de entrada**: Mejor manejo de errores en conversiones num√©ricas
- **Filtrado de mensajes vac√≠os**: Eliminaci√≥n de mensajes duplicados en el chat
- **Optimizaci√≥n de animaciones**: Timing preciso para experiencia fluida

### Correcciones
- Solucionado: M√∫ltiples cursores en animaci√≥n terminal
- Solucionado: Conversi√≥n incorrecta de 175cm mostrando 175.0m en lugar de 1.75m
- Solucionado: Mensajes vac√≠os apareciendo en el chat
- Solucionado: Animaci√≥n prematura antes de completar c√°lculos

## [1.3.2] - 2025-07-20
### Cambios principales
- El campo "id" ya no aparece en el bloque YAML ni en la tabla de informaci√≥n completa de alimentos.
- "Otras variantes" ahora siempre se muestra como nota separada, fuera del bloque YAML/tabular.
- Visualizaci√≥n estandarizada y robusta para todos los alimentos.

# [1.3.1] - 2025-07-18
### Cambios principales
- Frontend: ahora la informaci√≥n completa de alimentos se muestra en bloque YAML robusto y legible, sin errores de pantalla blanca.
- Se corrigi√≥ el import de ConsoleBlockYaml para compatibilidad total con React/Electron.
- El bloque YAML es tolerante a errores y nunca rompe el chat.
- Mejoras de robustez y experiencia visual en la consola de informaci√≥n nutricional.
# Changelog

## [1.2.2] - 2025-07-14
### Cambios principales
- Prompt del sistema actualizado: ahora usa delimitadores <|system|>, <|user|>, <|assistant|> y reglas claras para modular el comportamiento entre nutrici√≥n y asistente general.
- Respuestas de la IA mucho m√°s coherentes, breves y profesionales, sin historias inventadas ni desv√≠os de rol.
- C√°lculo autom√°tico proporcional de calor√≠as y nutrientes seg√∫n la cantidad solicitada por el usuario.
- L√≠mite de variantes de alimentos sugeridos (m√°x. 4).
- requirements.txt actualizado con todas las dependencias necesarias (FastAPI, Uvicorn, Transformers, Torch, BitsAndBytes).
- Mejoras en el filtrado post-procesado de respuestas para evitar temas irrelevantes.
- Eliminaci√≥n de archivos temporales y limpieza general.
